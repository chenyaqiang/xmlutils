<div class="wrapper-md" ng-controller="StageListController">
    <div class="panel panel-default">
        <div class="panel-heading">
            <h4>试卷管理&gt;阶段考试卷 <button type="button" class="btn btn-primary pull-right" ui-sref='app.teachResearchManage.createStage'>创建阶段考试卷</button></h4>
        </div>
        <div class="wrapper">
            <div class="panel-body">
                <form class="form-horizontal" ng-init="load()">
                    <div class="form-group">
                        <label class="col-sm-2 control-label">类型：</label>
                        <div class="radio">
                            <label class="i-checks" ng-repeat="(key, val) in departmentType track by $index">
                                <input type="radio" name="departmentType" ng-value='{{val.departmentType}}' ng-model="formData.departmentType" ng-click="getSubject(val.departmentType)"><i></i>{{val.departmentName}}
                            </label>
                        </div>
                    </div>
                    <div class="line line-dashed b-b line-lg pull-in"></div>
                    <div class="form-group">
                    <label class="col-sm-2 control-label">目标类型：</label>
                    <div class="radio">
                        <label class="i-checks" ng-repeat="(key, val) in aimTypes track by $index">
                            <input type="radio" name="aimType" ng-value='{{val.aimType}}' ng-model="formData.aimType"><i></i>{{val.aimName}}{{val.aimType}}
                        </label>
                    </div>
                </div>
                    <div class="line line-dashed b-b line-lg pull-in"></div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">第几阶段：</label>
                        <span class="col-sm-4"><select class="form-control" ng-model="formData.stage" ng-options="x.id as x.stageName for x in stageData" ng-value="{{x.stage}}" >
                        </select></span>
                    </div>
                    <div class="line line-dashed b-b line-lg pull-in"></div>
                    <button class="pull-right btn btn-primary" ng-click="getList(1,10)"><span class="p-d">查询</span></button>
                </form>
            </div>
            <div class="table-responsive">
                <table class="table table-striped b-t b-light">
                    <thead>
                        <tr>
                            <th style="width:10%">序号</th>
                            <th style="width:10%">学科</th>
                            <th style="width:20%">创建时间</th>
                            <th style="width:10%">创建人</th>
                            <th style="width:15%">封面</th>
                            <th style="width:10%">状态</th>
                            <th style="width:15%">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="data in results.list">
                            <td>{{$index+1}}</td>
                            <td>{{data.subjectCode}}</td>
                            <td>{{data.startDate | date : 'yyyy-MM-dd HH:mm:ss'}}-{{data.endDate | date : 'yyyy-MM-dd HH:mm:ss'}}</td>
                            <td>{{data.operator}}</td>
                            <td>
                                <img ng-src="{{data.diagnosisImgUrl}}" width="100" height="50" /> </td>
                            <td>{{data.diagnosisExplanation}}</td>
                            <td>
                                <!--  ui-sref="app.teachManage.detail({id:data.id})" -->
                                <button type="button" class="btn btn-primary" ng-click="GetPaperDetail({paperCode:data.diagnosisPaperCode})">详&nbsp;情</button>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="8" class="text-center">
                                <!-- 指令调用代码 -->
                                <xl-page size="10" method="getList" class="text-center"></xl-page>
                                <!-- 指令模板[pagination.html] -->
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>
        </div>
    </div>
</div>
