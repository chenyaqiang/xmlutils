<style>
.list-group-item {
    border-radius: 4px;
    line-height: 36px;
    font-size: 18px;
    font-weight: bold;
}
</style>
<script src="admin/lib/spark-md5.js"></script>
<script src="admin/lib/async.js"></script>
<script src="admin/lib/upyun-mu.js"></script>
<div class="wrapper-md" ng-controller="CreateController">
    <div class="panel panel-default" ng-init="load()">
        <div class="panel-heading">
            <h4>创建单科诊断</h4>
        </div>
        <div class="wrapper">
            <form class="form-horizontal">
                <!--包含公共筛选条件 start-->
                <div ng-include="'admin/common/tpl/filter.html'"></div>
                <!--包含公共筛选条件 end-->
                <!-- <div class="form-group">
                    <label class="col-sm-2 control-label">目标类型：</label>
                    <div class="radio">
                        <label class="i-checks" ng-repeat="(key, val) in aimTypes track by $index">
                            <input type="radio" name="aimType" ng-value='{{val.aimType}}' ng-model="formData.aimType"><i></i>{{val.aimName}}
                        </label>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div> -->
                <div class="">
                    <div class="list-group">
                        <a href class="list-group-item"  ng-model="formData.resourcePaperCode">
                        <!-- <span>{{subjectName}}</span> -->
                        <span class="name">诊断卷名称</span>
                    <span class="pull-right">
                        <button class="btn m-b-xs w-xs btn-info" ng-click="GetPapers({subjectCode:formData.subjectCode})">添加</button>
                       <!--  ui-sref='app.teachResearchManage.list({{gradeCode=data.id}})' -->
                       <!--  -->
                    </span>
                    </a>
                    </div>
                </div>
                <div class="radio">
                    <label class="col-sm-2 control-label" for="input-id-1">试卷用途：</label>
                    <label class="i-checks" ng-repeat="obj in paperUseType">
                        <input type="radio" name="paperUseType" ng-value="obj.paperUseType" ng-checked="{{obj.checked}}" ng-model="formData.paperUseType">
                        <i></i>{{obj.paperUseName}}
                    </label>
                </div>
                <div class="">
                    <div class="line line-dashed b-b line-lg"></div>
                    <div class="form-group">
                        <!-- ng-model="diagnosis.name" -->
                        <label class="col-sm-2 control-label">诊断名称：</label>
                        <span class="col-sm-6"><input type="text" class="form-control" ng-model="formData.name"  id="text_name" required ></span>
                        <span class="col-sm-4"><button class="btn btn-primary m-r" ng-click="getName()">确定</button><button class="btn btn-primary" ng-click="editName()">编辑</button></span>
                    </div>
                    <div class="line line-dashed b-b line-lg"></div>
                    <div class="form-group">
                        <label class="col-sm-2 control-label">选择封面：</label>    
                        <span class="col-sm-10"> 
                            <input type="file" name="file" id="file" file-model="myFile" required>
                             <div>
                               <img ng-src="{{formData.coverUrl}}" ng-model="formData.coverUrl" style="max-width:200px;max-height:100px;margin:0 auto;display:block;" />
                           </div> 
                            <button class="btn btn-default pull-right" id="submit" ng-click="submit()" required>上传又拍云图片预览</button>
                            <!-- <div id="log"></div> -->
                        </span>
                    </div>
                    <div class="line line-dashed b-b line-lg"></div>
                    <div class="form-group">    
                        <label class="col-sm-2 control-label">售价：</label>
                        <span class="col-sm-10"> 
                            <input type="number" name="price" ng-model="formData.diagnosisPaperPrice" class="col-sm-6 form-control" required>   
                        </span>
                    </div>
                    <div class="line line-dashed b-b line-lg"></div>
                    <div class="form-group">    
                        <label class="col-sm-2 control-label">描述：</label>
                        <span class="col-sm-10"> 
                            <textarea placeholder="{{placeholder}}" ng-model="formData.describe" ng-focus="focus()" ng-blur="blur()" class="form-control" rows="6" cols="20" required>
                            </textarea>
                        </span>
                    </div>
                    <div class="line line-dashed b-b line-lg"></div>
                    <button class="btn btn-primary pull-right" ng-click="createSingle(formData)">确定单科诊断用卷</button>
                </div>
            </form>
        </div>
    </div>
</div>
