<script>
    app.controller('shortBoardController', function($scope, CalcService, $controller) {
        $controller('getJsonData', {$scope: $scope});//继承
        //获取学科（短板）
        $scope.getIndex = function() {
            $scope.code = $scope.checked;
        };
        //是否添加短板
        $scope.whetherMothed = function(){
            if($scope.whether == "1"){
                $scope.display = true;
            }
        };
        $scope.display = false;
    });
</script>
<div ng-controller="shortBoardController">
    <div class="modal-header">
        <h3 class="modal-title">短板分析</h3>
    </div>
    <div class="modal-body">
        <div>
            <div class="shortBoard_whether">
                <select ng-model="whether" ng-click="whetherMothed()">
                    <option value="" selected="selected">是否需要添加“短板”</option>
                    <option value="1">添加“短板”</option>
                    <option value="2">不需要“短板”</option>
                </select>
            </div>
            <label class="col-sm-2 control-label" ng-show="display">短板学科:</label>
            <div class="col-sm-4" ng-show="display">
                <select name="account" class="form-control" ng-model="checked" ng-click="getIndex()">
                    <option value="" selected="selected">请选择短板科目</option>
                    <option ng-repeat="a in category" ng-value="a.subjectCode">{{a.subjectName}}</option>
                </select>
                {{checked}}
            </div>
        </div>
        <ul>
            <li ng-repeat="item in items">
                <a ng-click="selected.item = item">{{ classes[0].city }}</a>
                <!-- <label class="col-sm-1 control-label">中心:</label>
                            <div class="col-sm-4">
                                <select name="account" class="form-control">
                                    <option></option>
                                    <option></option>
                                </select>
                            </div> -->
            </li>
        </ul>
        Selected: <b></b>
    </div>
    <div class="modal-footer">
        <button class="btn btn-default" ng-click="cancel()">Cancel</button>
        <button class="btn btn-primary" ng-click="shortBoard(code,display)">ok</button>
    </div>
</div>